window.ALGOLIA_CONFIG={applicationID:"VN9ANUNJHO",indexName:"blog",apiKey:"98fde2f0c592e7705c24e8ef80f9b655",baseurl:""},$(function(e){"use strict";function t(){window.scroll(0,0),p.addClass("algolia__initial-content--hidden"),h.addClass("algolia__search-content--active")}function n(){p.removeClass("algolia__initial-content--hidden"),h.removeClass("algolia__search-content--active")}function o(){return y=g.val(),0===y.length?(n(),!1):(f.setQuery(y).search(),t(),!1)}function i(e){if(e.query!==y)return!1;var t=e.nbHits?a(e):_;v.html(t)}function a(t){return $.map(t.hits,function(t){return t.posted_at&&(t.posted_at_readable=moment.unix(t.posted_at).fromNow()),t.css_selector=encodeURI(t.css_selector),t.full_url=e.baseurl+t.url,w.render(t)}).join("")}function s(e){var t=e.substring(1);return!!t.match(/^algolia:/)&&decodeURI(t.replace(/^algolia:/,""))}function r(e){var t=$(".page,.post").find(e),n=t[0].getBoundingClientRect().top+window.pageYOffset-20;window.setTimeout(function(){window.scroll(0,n)},100)}function l(e){var t=s(e.target.hash);return e.target.pathname!==window.location.pathname||!t||(n(),r(t),e.preventDefault(),!1)}var c=e.applicationID,m=e.apiKey,d=e.indexName,u=algoliasearch(c,m),f=algoliasearchHelper(u,d);f.setQueryParameter("distinct",!0),f.on("result",i);var g=$(".js-algolia__input");$("#search-form");g.on("keyup",o);var p=$(".js-algolia__initial-content"),h=$(".js-algolia__search-content"),v=h.find(".algolia__results");v.on("click","a",l);var y,w=Hogan.compile($("#algolia__template").html()),_=$("#algolia__template--no-results").html();window.setTimeout(function(){var e=s(window.location.hash);e&&r(e)},100)}(window.ALGOLIA_CONFIG)),$(document).ready(function(){var e=$(".site-nav");$(".site-nav-toggle").click(function(){e.toggleClass("is-toggled")}),$("a").smoothScroll({offset:-20})}),function(e){function t(t){e("#comment-form .js-notice").removeClass("hidden"),e("#comment-form .js-notice-text").html(t)}e(".js-comments");e("#comment-form").submit(function(){var n=this;return e(n).addClass("disabled"),e("#comment-form-submit").html('<svg class="icon spin"><use xlink:href="#icon-loading"></use></svg> Loading...'),e.ajax({type:e(this).attr("method"),url:e(this).attr("action"),data:e(this).serialize(),contentType:"application/x-www-form-urlencoded",success:function(n){e("#comment-form-submit").html("Submitted").addClass("btn--disabled"),e("#comment-form .js-notice").removeClass("notice--danger").addClass("notice--success"),t('<strong>Thanks for your comment!</strong> It is <a href="https://github.com/lingxz/blog/pulls">currently pending</a> and will show on the site once approved.')},error:function(o){console.log(o),e("#comment-form-submit").html("Submit Comment"),e("#comment-form .js-notice").removeClass("notice--success").addClass("notice--danger"),t("<strong>Sorry, there was an error with your submission.</strong> Please make sure all required fields have been completed and try again."),e(n).removeClass("disabled")}}),!1})}(jQuery);var addComment={moveForm:function(e,t,n,o){var i,a,s,r,l=this,c=l.I(e),m=l.I(n),d=l.I("cancel-comment-reply-link"),u=l.I("comment-parent"),f=l.I("comment-post-slug"),g=m.getElementsByTagName("form")[0];if(c&&m&&d&&u&&g){l.respondId=n,o=o||!1,l.I("sm-temp-form-div")||(i=document.createElement("div"),i.id="sm-temp-form-div",i.style.display="none",m.parentNode.insertBefore(i,m)),c.parentNode.insertBefore(m,c.nextSibling),f&&o&&(f.value=o),u.value=t,d.style.display="",d.onclick=function(){var e=addComment,t=e.I("sm-temp-form-div"),n=e.I(e.respondId);if(t&&n)return e.I("comment-parent").value=null,t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),this.style.display="none",this.onclick=null,!1};try{for(var p=0;p<g.elements.length;p++)if(a=g.elements[p],r=!1,"getComputedStyle"in window?s=window.getComputedStyle(a):document.documentElement.currentStyle&&(s=a.currentStyle),(a.offsetWidth<=0&&a.offsetHeight<=0||"hidden"===s.visibility)&&(r=!0),"hidden"!==a.type&&!a.disabled&&!r){a.focus();break}}catch(e){}return!1}},I:function(e){return document.getElementById(e)}};